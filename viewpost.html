<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>View Post - pinkkit</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="main.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script type="text/javascript">
        $( document ).ready(function(){
            const urlParams = new URLSearchParams(window.location.search)
            const postID = urlParams.get('postID')
            const post = posts[postID]
            const comments = post.replies

            $("#post_title").html(post.title)
            $("#post_body p").html(post.body)
            for (x in comments){
                var li = document.createElement("li");  
                li.innerHTML = `<p><strong>${accounts[comments[x].accountID].displayname}:</strong> ${comments[x].body}</p>`
                $(".comments").append(li);
            }
        })
    </script>
</head>
<body>
    <header>
        <nav>   
            <ul>
                <li><a href="home.html">Home</a></li>
                <li><a href="login.html">Login</a></li>
                <li><a href="register.html">Register</a></li>
            </ul>
        </nav>
        <h1 id="post_title"></h1>
    </header>

    <section class="container">
        <img id="profile_picture">
        <article id="post_body">
            <p></p>
        </article>

        <h2>Comments</h2>
        <!--Use flexbox for comments, going to be dynamically adding each comment-->
        <ul class="comments">
            
        </ul>

        <form class="comment-form" action="#" method="POST">
            <label for="comment-body">Leave a comment:</label>
            <textarea name="comment-body" id="comment-body" required></textarea>

            <button type="submit">Submit</button>
        </form>
    </section>

    <footer>
        <p>&copy; 2023 pinkkit. All rights reserved.</p>
    </footer>

    <script src="https://kit.fontawesome.com/69c55ad5c0.js" crossorigin="anonymous"></script>
</body>
</html>
